@inject HttpClient Client
@inject NavigationManager NavigationManager


<MudPaper Class="d-flex align-center slipp-ticket mx-4">
    <MudGrid>
        <MudItem xs="8" Class="d-block pl-4">
            
            <MudButton OnClick="OpenClub" Style="background-color: transparent; padding: 10px 0 0 0;" Class="ClubName" Elevation="0">
                <MudText Typo="Typo.h3">@tickets[3].ClubName.ToUpper()</MudText>
                @*<MudIconButton OnClick="showMap" Color="Color.Primary" Size="Size.Medium" Icon="@Icons.Filled.LocationOn"></MudIconButton>*@
            </MudButton>
            
            <MudPaper Style="background-color: transparent; margin-top: 20px;" Elevation="0">
            <MudText Style="font-size: 14px;" Typo="Typo.body2">Inträde: @tickets[0].StartValidTime.ToShortDateString() | @tickets[0].StartValidTime.ToShortTimeString()</MudText>
            <MudText Style="font-size: 14px;" Typo="Typo.body2">Giltig: @tickets[0].EndValidTime.ToShortDateString() | @tickets[0].EndValidTime.ToShortTimeString()</MudText>
            <MudText Style="font-size: 14px;" Typo="Typo.body2">Antal: 3 biljetter</MudText>
            </MudPaper>

        </MudItem >
            
        <MudItem xs="4" Class="d-flex justify-center align-center" >
            
            <MudButton OnClick="ShowTicket" Color="Color.Transparent" Style="padding: 0;">
                <MudPaper Class=" d-flex flex-column justify-center align-center" Style="background-color: transparent;" Elevation="0">
                    <MudIcon Style="Width: 100px; height: 100px;" ViewBox="0 0 24 24" Color="Color.Primary" Icon="@Icons.Filled.QrCode2"></MudIcon>
                    <MudText Color="Color.Primary" Typo="Typo.body2">VisaBiljett</MudText>
                </MudPaper>
            </MudButton>

        </MudItem>
           
    </MudGrid>
</MudPaper>

<style>
    .slipp-ticket {
        background-color: transparent;
        border: dotted 1px #F2C080;
        padding: 10px 5px;
    }

    .ClubName {
        display: flex !important;
        justify-content: start;
        align-items: center;
    }
    
</style>

@code
{
    private CreateTicketOutput[] tickets;

    protected override async Task OnInitializedAsync()
    {
        tickets = await Client.GetFromJsonAsync<CreateTicketOutput[]>("sample-data/tickets.json");
    }


    private void ShowTicket()
    {

        NavigationManager.NavigateTo("/MySlippTicket");

        throw new NotImplementedException();
    } 

    private void OpenClub()
    {
        throw new NotImplementedException();
    }
}
