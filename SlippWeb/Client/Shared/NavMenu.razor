@using Microsoft.AspNetCore.Components.Authorization
@using Microsoft.AspNetCore.Components.WebAssembly.Authentication
@using MudBlazor.Utilities
@using System.Dynamic
@inject IAuthenticationService AuthenticationService

@*TODO - Hide appbar if soft/OnScreen keyboard is showing*@

<MudAppBar Class="py-1" DisableGutters="false" Fixed="true" Bottom="true">
    <MudGrid Justify="Justify.SpaceAround">
        <MudItem>
            <MudLink Href="/Home" Class="d-flex flex-column align-center" Match="NavLinkMatch.Prefix">
                <MudIcon Icon="@Icons.Filled.Home" Title="HOME" Color="Color.Primary" Size="Size.Large"></MudIcon>
                <MudText Typo="Typo.h6" Color="Color.Primary">BILJETTER</MudText>
            </MudLink>
        </MudItem>
        
        <MudItem>
            <MudLink Href="#" Class="d-flex flex-column align-center" Match="NavLinkMatch.Prefix">
                <MudIcon Icon="@Icons.Filled.Search" Title="CLUBS" Color="Color.Primary" Size="Size.Large"></MudIcon>
                <MudText Typo="Typo.h6" Color="Color.Primary">UPPTÄCK</MudText>
            </MudLink>
        </MudItem>

        <MudItem>
            <MudLink Href="#" Class="d-flex flex-column align-center" Match="NavLinkMatch.Prefix">
                <MudIcon Icon="@Icons.Filled.Favorite" Title="LIKES" Color="Color.Primary" Size="Size.Large"></MudIcon>
                <MudText Typo="Typo.h6" Color="Color.Primary">FAVORITER</MudText>
            </MudLink>
        </MudItem>

        <MudItem>
            <MudLink Href="/biljetter" Class="d-flex flex-column align-center" Match="NavLinkMatch.Prefix">
                <MudIcon Icon="@Icons.Filled.ListAlt" Title="LISTS" Color="Color.Primary" Size="Size.Large"></MudIcon>
                <MudText Typo="Typo.h6" Color="Color.Primary">LISTOR</MudText>
            </MudLink>
        </MudItem>

        @if (AuthenticationService.User != null)
        {
            <MudItem>
                <MudLink Href="/Account" Class="d-flex flex-column align-center" Match="NavLinkMatch.Prefix">
                    <MudIcon Icon="@Icons.Filled.Person" Title="USER" Color="Color.Primary" Size="Size.Large"></MudIcon>
                    <MudText Typo="Typo.h6" Color="Color.Primary">ANVÄNDARE</MudText>
                </MudLink>
                </MudItem>

        }
        else
        {
            <MudItem>
                <MudLink Href="/Login" Class="d-flex flex-column align-center" Match="NavLinkMatch.Prefix">
                    <MudIcon Icon="@Icons.Filled.Login" Title="LOGIN" Color="Color.Primary" Size="Size.Large"></MudIcon>
                    <MudText Typo="Typo.h6" Color="Color.Primary">LOGGA IN</MudText>
                </MudLink>
                </MudItem>
        }

    </MudGrid>
</MudAppBar>
